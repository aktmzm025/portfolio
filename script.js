// ==================== 
// í”„ë¡œì íŠ¸ ë°ì´í„°
// ====================

const projectsData = {
    'riverdice': {
        title: 'ğŸ® ë¦¬ë²„ë‹¤ì´ìŠ¤ ê²Œì„ í™ˆí˜ì´ì§€',
        team: 'íŒ€ í”„ë¡œì íŠ¸',
        role: 'í’€ìŠ¤íƒ ê°œë°œ',
        duration: '2025.08 - 2025.10',
        tech: ['Java', 'JavaScript', 'React', 'MySQL', 'API', 'JSON'],
        github: 'https://github.com/aktmzm025/riverdice',
        description: 'ë¦¬ë²„ë‹¤ì´ìŠ¤ë¼ëŠ” ê°œë°œí•œ ì›¹í˜ì´ì§€ ê²Œì„ì„ ì—°ë™í•˜ëŠ” ê²Œì„ ì„œë²„ì™€ ë‹¤ë¥¸ ì„œë²„ë¥¼ ì´ìš©í•˜ë©° ì‚¬ìš©ìì˜ í¸ì˜ì„±ì„ ì œê³µí•˜ê¸° ìœ„í•œ í™ˆí˜ì´ì§€ë¥¼ ê¸°íš ë° ì œì‘í–ˆìŠµë‹ˆë‹¤.',
        features: [
            {
                title: 'íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ',
                items: [
                    'ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ê¸°ë°˜ íšŒì›ê°€ì… ë° ë¡œê·¸ì¸',
                    'ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” ì €ì¥ (í•´ì‹œ ì²˜ë¦¬)ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”',
                    'íšŒì›ì •ë³´ ì¡°íšŒ ë° ê´€ë¦¬ ê¸°ëŠ¥'
                ]
            },
            {
                title: 'ê³µì§€ì‚¬í•­ ì‹œìŠ¤í…œ',
                items: [
                    'ì¹´í…Œê³ ë¦¬ë³„ ê³µì§€ì‚¬í•­ ë¶„ë¥˜ ë° ì •ë ¬',
                    'ìƒì„¸ ë³´ê¸° ê¸°ëŠ¥ìœ¼ë¡œ ë‚´ìš© í™•ì¸',
                    'ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ CRUD ê°€ëŠ¥'
                ]
            },
            {
                title: 'ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ',
                items: [
                    '6ê°œ ì¹´í…Œê³ ë¦¬ë³„ ê²Œì‹œê¸€ ë¶„ë¥˜',
                    'ê¸€ì“°ê¸° ëª¨ë‹¬ UI êµ¬í˜„',
                    'ì¢‹ì•„ìš” ê¸°ëŠ¥ ë° ëŒ“ê¸€ ì‘ì„±/ì¡°íšŒ',
                    'ì‘ì„± ì‹œê°„ ìë™ í‘œì‹œ'
                ]
            },
            {
                title: 'ë¯¸ë””ì–´ í˜ì´ì§€',
                items: [
                    'ì´ë¯¸ì§€ ë° ë™ì˜ìƒ ì—…ë¡œë“œ',
                    'YouTube URL ìë™ Vimeo ë³€í™˜ ì²˜ë¦¬',
                    'í˜ì´ì§€ ë‚´ ë¯¸ë¦¬ë³´ê¸° (í´ë¦­ ì—†ì´ ì¬ìƒ)',
                    'ì›ë³¸ URL ë³µêµ¬ ê¸°ëŠ¥',
                    'ë‚´ ë¯¸ë””ì–´ í¸ì§‘ ë° ì‚­ì œ'
                ]
            },
            {
                title: 'ê³ ê°ì„¼í„°',
                items: [
                    'ì•„ì½”ë””ì–¸ UIë¡œ ê°€ë…ì„± í–¥ìƒ',
                    'ìœ íš¨ì„± ê²€ì‚¬ ë° í¼ ìë™ì™„ì„±',
                    'ë¬¸ì˜ ìœ í˜•ë³„ ë‚´ìš© ìë™ ì‘ì„±'
                ]
            },
            {
                title: 'ê´€ë¦¬ì í˜ì´ì§€',
                items: [
                    '8ê°œ ì¹´í…Œê³ ë¦¬ ë°ì´í„° ê´€ë¦¬',
                    'ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ (ë°ì´í„° ì¦ê°€ í˜„í™©)',
                    'ëª¨ë“  ë°ì´í„° ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ',
                    'ê³µì§€ì‚¬í•­ ì‘ì„± ë° ì—…ë°ì´íŠ¸'
                ]
            }
        ],
        technical: [
            'í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ë¶„ë¦¬ ì•„í‚¤í…ì²˜',
            'ë¡œì»¬ ì„œë²„ êµ¬ì¶•ìœ¼ë¡œ ë…ë¦½ì  ìš´ì˜',
            'API ê¸°ë°˜ ë°ì´í„° í†µì‹ ',
            'ì½”ë“œ ëª¨ë“ˆí™” ë° ë¼ì´ë¸ŒëŸ¬ë¦¬í™”',
            'YouTube URL â†’ Vimeo ìë™ ë³€í™˜ ì•Œê³ ë¦¬ì¦˜'
        ],
        coreCode: [
            {
                category: 'ì¸ì¦ & ë³´ì•ˆ',
                title: 'localStorage ë©€í‹°íƒ­ ë™ê¸°í™”',
                reason: 'ì—¬ëŸ¬ íƒ­ì—ì„œ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”í•˜ì—¬ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ ì œê³µ',
                code: `window.addEventListener('storage', function(e) {
    if (e.key === 'currentUser') {
        updateAuthButtons();
    }
});`
            },
            {
                category: 'ì¸ì¦ & ë³´ì•ˆ',
                title: 'XSS ë°©ì–´ (HTML Escaping)',
                reason: 'ì‚¬ìš©ì ì…ë ¥ê°’ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ì—¬ ì•…ì˜ì ì¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë°©ì§€',
                code: `function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}`
            },
            {
                category: 'UI/UX ìµœì í™”',
                title: 'ë¬´í•œ ìŠ¤í¬ë¡¤',
                reason: 'í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ì½˜í…ì¸ ë¥¼ ìë™ìœ¼ë¡œ ë¡œë“œí•˜ì—¬ ì‚¬ìš©ì í¸ì˜ì„± í–¥ìƒ',
                code: `handleScroll() {
    if (this.isLoading || !this.hasMoreItems) return;
    
    const scrollTop = window.pageYOffset;
    const windowHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    
    if (scrollTop + windowHeight >= documentHeight - 1000) {
        this.currentPage++;
        this.loadMoreItems();
    }
}`
            },
            {
                category: 'UI/UX ìµœì í™”',
                title: 'Debouncing íŒ¨í„´',
                reason: 'ë¶ˆí•„ìš”í•œ API í˜¸ì¶œì„ ì¤„ì—¬ ì„œë²„ ë¶€í•˜ ê°ì†Œ ë° ì„±ëŠ¥ ìµœì í™”',
                code: `static debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func(...args), wait);
    };
}`
            },
            {
                category: 'UI/UX ìµœì í™”',
                title: 'ë‚™ê´€ì  UI ì—…ë°ì´íŠ¸',
                reason: 'ì„œë²„ ì‘ë‹µ ì „ì— UIë¥¼ ë¨¼ì € ì—…ë°ì´íŠ¸í•˜ì—¬ ì¦‰ê°ì ì¸ í”¼ë“œë°± ì œê³µ',
                code: `async function toggleLike() {
    // ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
    likeIcon.textContent = 'ğŸ’–';
    likeCountSpan.textContent = parseInt(likeCountSpan.textContent) + 1;
    
    try {
        const response = await fetch(\`/api/posts/\${postId}/like\`, {
            method: 'POST'
        });
        // ì„œë²„ ì‘ë‹µìœ¼ë¡œ ë³´ì •
    } catch (error) {
        // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±
        likeIcon.textContent = 'â¤ï¸';
        likeCountSpan.textContent = parseInt(likeCountSpan.textContent) - 1;
    }
}`
            },
            {
                category: 'íŒŒì¼ ì²˜ë¦¬',
                title: 'YouTube URL íŒŒì‹± ë° Vimeo ë³€í™˜',
                reason: 'ë‹¤ì–‘í•œ í˜•ì‹ì˜ YouTube URLì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì„ë² ë“œ ê°€ëŠ¥í•œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜',
                code: `extractYouTubeId(url) {
    const regex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^"&?\\/\\s]{11})/i;
    const match = url.match(regex);
    return match ? match[1] : null;
}

function convertYouTubeUrl(url) {
    const videoId = extractYouTubeId(url);
    return videoId ? \`https://www.youtube.com/embed/\${videoId}\` : null;
}`
            },
            {
                category: 'íŒŒì¼ ì²˜ë¦¬',
                title: 'Drag & Drop íŒŒì¼ ì—…ë¡œë“œ',
                reason: 'ì§ê´€ì ì¸ ë“œë˜ê·¸ì•¤ë“œë¡­ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì‰½ê²Œ íŒŒì¼ì„ ì—…ë¡œë“œí•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„',
                code: `fileDropZone.addEventListener('drop', (e) => {
    e.preventDefault();
    const files = e.dataTransfer.files;
    if (files.length > 0) {
        this.handleFileSelect(files[0]);
    }
});

fileDropZone.addEventListener('dragover', (e) => {
    e.preventDefault();
    fileDropZone.style.borderColor = '#667eea';
});`
            },
            {
                category: 'ìƒíƒœ ê´€ë¦¬',
                title: 'í´ë˜ìŠ¤ ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬',
                reason: 'ë³µì¡í•œ ìƒíƒœë¥¼ ìº¡ìŠí™”í•˜ì—¬ ê´€ë¦¬í•˜ê³  ì½”ë“œ ì¬ì‚¬ìš©ì„± í–¥ìƒ',
                code: `class MediaManager {
    constructor() {
        this.currentUser = this.getCurrentUser();
        this.currentCategory = 'screenshots';
        this.currentPage = 1;
        this.mediaItems = [];
        this.isLoading = false;
        this.hasMoreItems = true;
    }
    
    async loadMediaItems(reset = false) {
        if (this.isLoading) return;
        this.isLoading = true;
        
        if (reset) {
            this.mediaItems = [];
            this.currentPage = 1;
        }
        
        // API í˜¸ì¶œ ë° ìƒíƒœ ì—…ë°ì´íŠ¸
        this.isLoading = false;
    }
}`
            },
            {
                category: 'ìƒíƒœ ê´€ë¦¬',
                title: 'ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë©”ëª¨ë¦¬ ê´€ë¦¬',
                reason: 'ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì¶”ê°€/ì œê±°',
                code: `eventListeners = new Map();

setupEventListeners() {
    const handler = (e) => this.handleLogin(e);
    element.addEventListener('submit', handler);
    this.eventListeners.set('key', { element, event: 'submit', handler });
}

cleanupEventListeners() {
    this.eventListeners.forEach(({ element, event, handler }) => {
        element?.removeEventListener(event, handler);
    });
    this.eventListeners.clear();
}`
            },
            {
                category: 'ë°±ì—”ë“œ ì—°ë™',
                title: 'Retry ë¡œì§ì´ ìˆëŠ” API í†µì‹ ',
                reason: 'ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • ì‹œ ìë™ìœ¼ë¡œ ì¬ì‹œë„í•˜ì—¬ ì•ˆì •ì ì¸ ë°ì´í„° í†µì‹  ë³´ì¥',
                code: `static async request(url, options = {}) {
    let attempt = 0;
    const maxAttempts = 3;

    while (attempt < maxAttempts) {
        try {
            const response = await fetch(url, options);
            if (!response.ok) throw new Error(\`HTTP \${response.status}\`);
            return await response.json();
        } catch (error) {
            attempt++;
            if (attempt >= maxAttempts) throw error;
            await new Promise(resolve => 
                setTimeout(resolve, 1000 * attempt)
            );
        }
    }
}`
            },
            {
                category: 'ë°±ì—”ë“œ ì—°ë™',
                title: 'Promise.all ë³‘ë ¬ ì¿¼ë¦¬',
                reason: 'ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ë™ì‹œì— ìš”ì²­í•˜ì—¬ ë¡œë”© ì‹œê°„ì„ ë‹¨ì¶•í•˜ê³  ì„±ëŠ¥ í–¥ìƒ',
                code: `Promise.all([
    new Promise((resolve, reject) => {
        db.query('SELECT COUNT(*) as count FROM UserDB', 
            (err, results) => err ? reject(err) : 
                resolve({ users: results[0].count })
        );
    }),
    new Promise((resolve, reject) => {
        db.query('SELECT COUNT(*) as count FROM Posts', 
            (err, results) => err ? reject(err) : 
                resolve({ posts: results[0].count })
        );
    })
]).then(results => {
    const stats = Object.assign({}, ...results);
    res.json(stats);
});`
            },
            {
                category: 'ë°±ì—”ë“œ ì—°ë™',
                title: 'Multer íŒŒì¼ ì—…ë¡œë“œ',
                reason: 'ì´ë¯¸ì§€ì™€ ë™ì˜ìƒì„ ì•ˆì „í•˜ê²Œ ê²€ì¦í•˜ê³  ì„œë²„ì— ì €ì¥',
                code: `const storage = multer.diskStorage({
    destination: (req, file, cb) => cb(null, uploadDir),
    filename: (req, file, cb) => {
        const timestamp = Date.now();
        const originalName = Buffer.from(file.originalname, 'latin1')
            .toString('utf8');
        cb(null, \`\${timestamp}_\${originalName}\`);
    }
});

const upload = multer({
    storage: storage,
    limits: { fileSize: 50 * 1024 * 1024 },
    fileFilter: (req, file, cb) => {
        const allowedTypes = ['image/jpeg', 'image/png', 'video/mp4'];
        allowedTypes.includes(file.mimetype) ? 
            cb(null, true) : cb(new Error('í—ˆìš©ë˜ì§€ ì•ŠëŠ” íŒŒì¼'));
    }
});`
            },
            {
                category: 'ë°ì´í„°ë² ì´ìŠ¤',
                title: 'JOIN ì¿¼ë¦¬ë¡œ ëŒ“ê¸€ ìˆ˜ ì§‘ê³„',
                reason: 'ê²Œì‹œê¸€ê³¼ ëŒ“ê¸€ ìˆ˜ë¥¼ í•œ ë²ˆì˜ ì¿¼ë¦¬ë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ì¡°íšŒ',
                code: `const query = \`
    SELECT p.*,
        (SELECT COUNT(*) FROM Comments c 
         WHERE c.post_id = p.post_id) as comment_count
    FROM Posts p 
    WHERE p.is_deleted = FALSE 
    ORDER BY p.created_at DESC
\`;`
            },
            {
                category: 'ë°ì´í„°ë² ì´ìŠ¤',
                title: 'ë™ì  ì¿¼ë¦¬ ìƒì„±',
                reason: 'ì‚¬ìš©ì ì„ íƒì— ë”°ë¼ í•„í„°ë§ ì¡°ê±´ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•˜ì—¬ ìœ ì—°í•œ ê²€ìƒ‰ êµ¬í˜„',
                code: `let query = 'SELECT * FROM Posts WHERE is_deleted = FALSE';
let queryParams = [];

if (category && category !== 'ì „ì²´') {
    query += ' AND category = ?';
    queryParams.push(category);
}

query += ' LIMIT ? OFFSET ?';
queryParams.push(parseInt(limit), parseInt(offset));

db.query(query, queryParams, (err, results) => {
    res.json(results);
});`
            },
            {
                category: 'ë°ì´í„°ë² ì´ìŠ¤',
                title: 'ì†Œí”„íŠ¸ ì‚­ì œ',
                reason: 'ë°ì´í„°ë¥¼ ì‹¤ì œë¡œ ì‚­ì œí•˜ì§€ ì•Šê³  í”Œë˜ê·¸ë§Œ ë³€ê²½í•˜ì—¬ ë³µêµ¬ ê°€ëŠ¥ì„± í™•ë³´',
                code: `const checkColumnQuery = \`
    SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS 
    WHERE TABLE_NAME = 'Posts' AND COLUMN_NAME = 'is_deleted'
\`;

db.query(checkColumnQuery, (err, results) => {
    const deleteQuery = results.length > 0 
        ? 'UPDATE Posts SET is_deleted = TRUE WHERE post_id = ?' 
        : 'DELETE FROM Posts WHERE post_id = ?';
    db.query(deleteQuery, [id]);
});`
            }
        ]
    },
    
    'android-memo': {
        title: 'ğŸ“± ì¼ê¸° & ë©”ëª¨ ì•ˆë“œë¡œì´ë“œ ì•±',
        team: 'ë””ìì´ë„ˆ 1, ì•ˆë“œë¡œì´ë“œ 4, ë°±ì—”ë“œ 1',
        role: 'ê°œë°œ ë° í”„ë¡œì íŠ¸ ì´ê´„',
        tech: ['Android', 'Kotlin', 'Jetpack Navigation', 'Hilt', 'MVI', 'Retrofit', 'DataStore', 'Flow'],
        description: 'ì¼ê¸° ê¸°ëŠ¥ê³¼ ì¹´í…Œê³ ë¦¬ë³„ ë©”ëª¨ ì €ì¥, ê²€ìƒ‰ì´ ê°€ëŠ¥í•œ ì•ˆë“œë¡œì´ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. Clean Architectureì™€ ë©€í‹° ëª¨ë“ˆ êµ¬ì¡°ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.',
        features: [
            {
                title: 'ê¸°ì´ˆ ì„¸íŒ…',
                items: [
                    'Jetpack Navigationì„ ì´ìš©í•œ í™”ë©´ ì´ë™ êµ¬í˜„',
                    'Clean Architectureì™€ ë©€í‹° ëª¨ë“ˆ êµ¬ì¡° ì„¤ê³„',
                    'Hiltë¥¼ í†µí•œ ì˜ì¡´ì„± ì£¼ì…',
                    'MVI íŒ¨í„´ ì ìš©',
                    'Retrofit API ì—°ë™'
                ],
                code: `// Hilt ëª¨ë“ˆ ì˜ˆì‹œ
@Module
@InstallIn(SingletonComponent::class)
object NetworkModule {
    @Provides
    @Singleton
    fun provideRetrofit(): Retrofit {
        return Retrofit.Builder()
            .baseUrl(BASE_URL)
            .addConverterFactory(GsonConverterFactory.create())
            .build()
    }
}`
            },
            {
                title: 'ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ (OAuth 2.0)',
                items: [
                    'Kakao SDKë¥¼ í†µí•´ ìœ ì € ì •ë³´(email, ì´ë¦„) íšë“',
                    'DataStoreë¥¼ í™œìš©í•˜ì—¬ Local ì €ì¥ì†Œì— ë¡œê·¸ì¸ Token ì €ì¥',
                    'ìœ ì € ì •ë³´ë¥¼ Localì— ì•ˆì „í•˜ê²Œ ì €ì¥ ë° ê´€ë¦¬'
                ],
                code: `// DataStore ì €ì¥ ì˜ˆì‹œ
class UserPreferences(private val dataStore: DataStore<Preferences>) {
    
    suspend fun saveLoginToken(token: String) {
        dataStore.edit { preferences ->
            preferences[LOGIN_TOKEN] = token
        }
    }
    
    val loginToken: Flow<String?> = dataStore.data
        .map { it[LOGIN_TOKEN] }
}`
            },
            {
                title: 'ë©”ëª¨ ì¶”ê°€/ì‚­ì œ/ìˆ˜ì •/ê²€ìƒ‰',
                items: [
                    'Flowë¥¼ í™œìš©í•œ ì²´í¬ë°•ìŠ¤ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥',
                    'ì¹´í…Œê³ ë¦¬ë³„ ë©”ëª¨ ë¶„ë¥˜ ë° ì €ì¥',
                    'ì‹¤ì‹œê°„ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„',
                    'Room Databaseë¥¼ ì´ìš©í•œ ë¡œì»¬ ì €ì¥'
                ],
                code: `// Flowë¥¼ í™œìš©í•œ ì²´í¬ë°•ìŠ¤ ì—…ë°ì´íŠ¸
@Dao
interface MemoDao {
    @Query("SELECT * FROM memos WHERE category = :category")
    fun getMemosByCategory(category: String): Flow<List<Memo>>
    
    @Update
    suspend fun updateMemo(memo: Memo)
}

// ViewModelì—ì„œ Flow ì‚¬ìš©
val memos: StateFlow<List<Memo>> = memoDao
    .getMemosByCategory(selectedCategory)
    .stateIn(viewModelScope, SharingStarted.Lazily, emptyList())`
            },
            {
                title: 'ì¼ê¸° ì¶”ê°€/ì‚­ì œ',
                items: [
                    'Multipartë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ì—…ë¡œë“œ',
                    'ê°¤ëŸ¬ë¦¬ ë° ì¹´ë©”ë¼ë¥¼ í†µí•œ ì´ë¯¸ì§€ ì²¨ë¶€',
                    'ì´ë¯¸ì§€ì™€ í•¨ê»˜ ì¼ê¸° ì‘ì„± ë° ì €ì¥'
                ],
                code: `// Multipart ì´ë¯¸ì§€ ì—…ë¡œë“œ
suspend fun uploadDiary(
    content: RequestBody,
    image: MultipartBody.Part
): Result<DiaryResponse> {
    return try {
        val response = api.uploadDiary(content, image)
        Result.success(response)
    } catch (e: Exception) {
        Result.failure(e)
    }
}

// ì´ë¯¸ì§€ Multipart ë³€í™˜
fun File.toMultipartBody(): MultipartBody.Part {
    val requestFile = this.asRequestBody("image/*".toMediaType())
    return MultipartBody.Part.createFormData("image", name, requestFile)
}`
            }
        ],
        technical: [
            'Clean Architectureë¡œ ë ˆì´ì–´ ë¶„ë¦¬ (Presentation, Domain, Data)',
            'ë©€í‹° ëª¨ë“ˆ êµ¬ì¡°ë¡œ ì˜ì¡´ì„± ê´€ë¦¬ ë° ë¹Œë“œ ì†ë„ í–¥ìƒ',
            'MVI íŒ¨í„´ìœ¼ë¡œ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ êµ¬í˜„',
            'Hiltë¡œ ì˜ì¡´ì„± ì£¼ì… ìë™í™”',
            'Kotlin Flowë¡œ ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬',
            'Jetpack Navigationìœ¼ë¡œ í™”ë©´ ì „í™˜ ê´€ë¦¬',
            'DataStoreë¡œ ì•ˆì „í•œ ë¡œì»¬ ë°ì´í„° ì €ì¥'
        ]
    },
    
    'bank': {
        title: 'ğŸ¦ ì€í–‰ ì‹œìŠ¤í…œ êµ¬ì¶•',
        team: '4ì¸ íŒ€ í”„ë¡œì íŠ¸',
        role: 'íŒ€ ë¦¬ë” ë° ì‹œìŠ¤í…œ ì„¤ê³„ì',
        duration: '2023.09 - 2023.12',
        tech: ['Java', 'MySQL', 'JDBC', 'ì‹œìŠ¤í…œ ì„¤ê³„'],
        description: '4ì¸ íŒ€ í”„ë¡œì íŠ¸ì˜ ë¦¬ë”ë¡œì„œ ì€í–‰ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. "í”„ë¡œê·¸ë¨ë§Œ ì¶”ê°€í•˜ë©´ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ìˆ˜ì¤€"ì˜ ì™„ì„±ë„ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.',
        features: [
            {
                title: 'ë¦¬ë”ì‹­ ê²½í—˜',
                items: [
                    'íŒ€ì› 4ì¸ì˜ ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ë° ì¼ì • ì¡°ìœ¨',
                    'ê° íŒ€ì›ì˜ ê°•ì ì„ íŒŒì•…í•œ ì—­í•  ë¶„ë‹´',
                    'ì£¼ì œ ì„ ì • ë° ê¸°íšì„œ ì‘ì„± ì£¼ë„',
                    'ì •ê¸°ì ì¸ íŒ€ ë¯¸íŒ… ë° ì§„í–‰ ìƒí™© ê´€ë¦¬'
                ]
            },
            {
                title: 'ì‹œìŠ¤í…œ ì„¤ê³„',
                items: [
                    'ì€í–‰ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„',
                    'ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ (ê³„ì¢Œ, ê±°ë˜, ê³ ê° ì •ë³´)',
                    'CRUD ê¸°ëŠ¥ ì™„ì „ êµ¬í˜„',
                    'íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë¡œì§ êµ¬í˜„'
                ]
            },
            {
                title: 'ì£¼ìš” ê¸°ëŠ¥',
                items: [
                    'ê³„ì¢Œ ê°œì„¤/ì¡°íšŒ/ì‚­ì œ',
                    'ì…ê¸ˆ/ì¶œê¸ˆ/ì´ì²´ ê¸°ëŠ¥',
                    'ê±°ë˜ ë‚´ì—­ ì¡°íšŒ',
                    'ê³ ê° ì •ë³´ ê´€ë¦¬',
                    'ì”ì•¡ í™•ì¸ ë° ì—…ë°ì´íŠ¸'
                ]
            },
            {
                title: 'ì½”ë“œ ë¦¬ë·° ë° ë©˜í† ë§',
                items: [
                    'íŒ€ì› ì½”ë“œ ë¦¬ë·° ë° í”¼ë“œë°± ì œê³µ',
                    'ê¸°ìˆ ì  ë¬¸ì œ í•´ê²° ì§€ì›',
                    'ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê³µìœ ',
                    'í˜‘ì—… ë„êµ¬(Git) ì‚¬ìš©ë²• ê°€ì´ë“œ'
                ]
            }
        ],
        technical: [
            'MVC íŒ¨í„´ ì ìš©',
            'JDBCë¥¼ í†µí•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™',
            'PreparedStatementë¡œ SQL Injection ë°©ì§€',
            'íŠ¸ëœì­ì…˜ ê´€ë¦¬ (ACID ì†ì„± ë³´ì¥)',
            'ì˜ˆì™¸ ì²˜ë¦¬ ë° ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶•'
        ],
        learned: [
            'íŒ€ í”„ë¡œì íŠ¸ì˜ ê¸°íšê³¼ ê³„íšì˜ ì¤‘ìš”ì„±',
            'íŒ€ì› ê°„ ì†Œí†µ ë° í˜‘ì—… ë°©ì‹',
            'ê°ìì˜ ëŠ¥ë ¥ì„ ì‚´ë¦¬ëŠ” ì—­í•  ë¶„ë‹´ ì „ëµ',
            'ë¦¬ë”ë¡œì„œ íŒ€ì„ ì´ë„ëŠ” ë²•',
            'í”„ë¡œì íŠ¸ ì¼ì • ê´€ë¦¬ ë° ë¦¬ìŠ¤í¬ ëŒ€ì‘'
        ]
    },
    
    'patent': {
        title: 'ğŸ“œ ë¸”ë£¨íˆ¬ìŠ¤ì™€ ì™€ì´íŒŒì´ë¥¼ ì´ìš©í•œ ìœ„ì¹˜ì¶”ì ',
        subtitle: 'Location tracking using Bluetooth and Wi-Fi',
        team: 'ê°œì¸ í”„ë¡œì íŠ¸',
        role: 'ë°œëª…ì',
        tech: ['GPS', 'Bluetooth', 'Wi-Fi', 'IoT', 'ì•± ê°œë°œ êµ¬ìƒ'],
        description: 'í”¼ì‹œë°©ì—ì„œ ê³ ê°ë“¤ì´ ë¬¼ê±´ì„ ìì£¼ ë¶„ì‹¤í•˜ëŠ” ë¬¸ì œë¥¼ ë°œê²¬í•˜ê³ , ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ìœ„ì¹˜ì¶”ì  ê¸°ìˆ ì„ ê°œë°œí•˜ì—¬ íŠ¹í—ˆë¥¼ ì¶œì›í–ˆìŠµë‹ˆë‹¤.',
        features: [
            {
                title: 'ë°œëª… ë°°ê²½',
                items: [
                    'í”¼ì‹œë°©ì—ì„œ ì†ë‹˜ë“¤ì´ ë¬¼ê±´ì„ ë„ˆë¬´ ë§ì´ ìƒì–´ë²„ë¦¬ëŠ” ë¬¸ì œ ë°œê²¬',
                    'ì°¾ìœ¼ë ¤ í•  ë•Œì˜ ë²ˆê±°ë¡œì›€ê³¼ ìœ ì‹¤ë¬¼ ì¦ê°€',
                    'ê¸°ì¡´ GPS + ë¸”ë£¨íˆ¬ìŠ¤ ë°©ì‹ì˜ í•œê³„ (ê±´ë¬¼ ë‚´ë¶€ ì •í™•ë„ ì €í•˜)',
                    'ë¬´ë£Œ Wi-Fi ì¦ê°€ ì¶”ì„¸ ì°©ì•ˆ'
                ]
            },
            {
                title: 'í•µì‹¬ ì•„ì´ë””ì–´',
                items: [
                    '<strong>ì‚¼ì¤‘ ì¶”ì  ì‹œìŠ¤í…œ:</strong> GPS + ë¸”ë£¨íˆ¬ìŠ¤ + Wi-Fi ë™ì‹œ í™œìš©',
                    '<strong>ì‹¤ë‚´ ì •ë°€ë„ í–¥ìƒ:</strong> Wi-Fië¡œ ê±´ë¬¼ ë‚´ ìœ„ì¹˜ ì¶”ì  ì •í™•ë„ ê°œì„ ',
                    '<strong>ì†Œí˜•í™” ì„¤ê³„:</strong> í¬ì¼“ ì‚¬ì´ì¦ˆë¡œ ë‹¤ì–‘í•œ ë¬¼ê±´ì— ë¶€ì°© ê°€ëŠ¥',
                    '<strong>ì•± ì—°ë™:</strong> ì‹¤ì‹œê°„ ìœ„ì¹˜ í™•ì¸ ë° ì•Œë¦¼ ê¸°ëŠ¥',
                    '<strong>Cíƒ€ì… ì¶©ì „:</strong> ë¬´ì„  ë˜ëŠ” ìœ ì„  ì¶©ì „ ì§€ì›'
                ]
            },
            {
                title: 'ê¸°ìˆ ì  êµ¬ìƒ',
                items: [
                    'GPS: ì‹¤ì™¸ ìœ„ì¹˜ ì¶”ì  (ê´‘ë²”ìœ„)',
                    'Bluetooth: ê·¼ê±°ë¦¬ ìœ„ì¹˜ ì¶”ì  (10-30m)',
                    'Wi-Fi: ì‹¤ë‚´ ìœ„ì¹˜ ì¶”ì  (ê±´ë¬¼ ë‚´ë¶€)',
                    'ì„œë²„ë¥¼ í†µí•œ ë‹¤ì¤‘ ê¸°ê¸° ë°ì´í„° ê´€ë¦¬',
                    'ì•±ì—ì„œ ì‹¤ì‹œê°„ ìœ„ì¹˜ í™•ì¸ ë° ê²½ë¡œ í‘œì‹œ'
                ]
            },
            {
                title: 'ê¸°ëŒ€ íš¨ê³¼',
                items: [
                    'ë¬¼ê±´ ë¶„ì‹¤ ë°©ì§€ â†’ ì¬êµ¬ë§¤ ë¹„ìš© ì ˆê°',
                    'ìœ ì‹¤ë¬¼ë¡œ ì¸í•œ ì“°ë ˆê¸° ê°ì†Œ â†’ í™˜ê²½ ë³´í˜¸',
                    'ê¸´ê¸‰ ìƒí™© ì‹œ ìœ„ì¹˜ ì¶”ì  ê°€ëŠ¥ (ì•ˆì „)',
                    'ë‹¤ì–‘í•œ í™œìš©ì²˜ (ì§€ê°‘, ì—´ì‡ , ê°€ë°© ë“±)'
                ]
            }
        ],
        learned: [
            'ì¼ìƒì—ì„œ ë¬¸ì œë¥¼ ë°œê²¬í•˜ëŠ” ê´€ì°°ë ¥',
            'ê¸°ìˆ ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì‚¬ê³ ë°©ì‹',
            'íŠ¹í—ˆ ëª…ì„¸ì„œ ì‘ì„± ëŠ¥ë ¥',
            'ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì„¤ê³„ ë°©ë²•',
            'ê¸°ìˆ  ìœµí•©(GPS+BT+WiFi)ì˜ ì¤‘ìš”ì„±'
        ]
    }
};

// ==================== 
// DOM ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
// ====================

document.addEventListener('DOMContentLoaded', function() {
    
    // ==================== 
    // Mobile Menu Toggle
    // ====================
    const menuToggle = document.getElementById('menuToggle');
    const nav = document.getElementById('nav');
    
    if (menuToggle && nav) {
        menuToggle.addEventListener('click', function() {
            nav.classList.toggle('show');
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!menuToggle.contains(e.target) && !nav.contains(e.target)) {
                nav.classList.remove('show');
            }
        });
    }
    
    // ==================== 
    // Dark Mode Toggle
    // ====================
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.querySelector('.theme-icon');
    const body = document.body;
    
    const currentTheme = localStorage.getItem('theme') || 'light';
    
    if (currentTheme === 'dark') {
        body.classList.add('dark-mode');
        if (themeIcon) themeIcon.textContent = 'â˜€ï¸';
    }
    
    if (themeToggle) {
        themeToggle.addEventListener('click', function() {
            body.classList.toggle('dark-mode');
            
            const isDark = body.classList.contains('dark-mode');
            
            if (themeIcon) {
                themeIcon.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
            }
            
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });
    }
    
    // ==================== 
    // Smooth Scroll & Active Navigation
    // ====================
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('.section');
    
    function updateActiveNav() {
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            
            if (window.pageYOffset >= sectionTop - 100) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            const href = link.getAttribute('href');
            if (href === `#${current}`) {
                link.classList.add('active');
            }
        });
    }
    
    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            if (window.innerWidth <= 768) {
                nav.classList.remove('show');
            }
        });
    });
    
    window.addEventListener('scroll', updateActiveNav);
    updateActiveNav();
    
    // ==================== 
    // Scroll Animations
    // ====================
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
            }
        });
    }, observerOptions);
    
    const animateElements = document.querySelectorAll(
        '.about-card, .skill-category, .project-card, .timeline-item, .contact-item'
    );
    
    animateElements.forEach(el => {
        observer.observe(el);
    });
    
    // ==================== 
    // Logo Click - Scroll to Top
    // ====================
    const logo = document.querySelector('.logo');
    
    if (logo) {
        logo.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }
    
    console.log('Portfolio initialized! ğŸš€');
});

// ==================== 
// í”„ë¡œì íŠ¸ ëª¨ë‹¬ ê¸°ëŠ¥
// ====================

function openProjectModal(projectId) {
    const modal = document.getElementById('projectModal');
    const modalBody = document.getElementById('modalBody');
    const project = projectsData[projectId];
    
    if (!project) return;
    
    let html = `
        <div class="modal-header">
            <h2>${project.title}</h2>
            ${project.subtitle ? `<p style="font-style: italic; color: var(--text-secondary); margin-bottom: 16px;">${project.subtitle}</p>` : ''}
            <div class="modal-meta">
                <div class="meta-item">
                    <span>ğŸ‘¥</span> ${project.team}
                </div>
                <div class="meta-item">
                    <span>ğŸ¯</span> ${project.role}
                </div>
                ${project.duration ? `
                <div class="meta-item">
                    <span>ğŸ“…</span> ${project.duration}
                </div>
                ` : ''}
            </div>
            <div class="modal-tags">
                ${project.tech.map(tech => `<span class="tech-badge">${tech}</span>`).join('')}
            </div>
        </div>
        
        <div class="modal-section">
            <h3>ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”</h3>
            <p>${project.description}</p>
        </div>
    `;
    
    if (project.features && project.features.length > 0) {
        html += `<div class="modal-section">
            <h3>âœ¨ ì£¼ìš” ê¸°ëŠ¥</h3>`;
        
        project.features.forEach(feature => {
            html += `
                <h4 style="font-size: 18px; font-weight: 600; margin: 20px 0 12px; color: var(--text-primary);">
                    ${feature.title}
                </h4>
                <ul>
                    ${feature.items.map(item => `<li>${item}</li>`).join('')}
                </ul>
            `;
            
            if (feature.code) {
                html += `
                    <div class="code-block">
                        <code>${escapeHtml(feature.code)}</code>
                    </div>
                `;
            }
        });
        
        html += `</div>`;
    }
    
    if (project.technical && project.technical.length > 0) {
        html += `
            <div class="modal-section">
                <h3>ğŸ”§ ê¸°ìˆ ì  íŠ¹ì§•</h3>
                <ul>
                    ${project.technical.map(item => `<li>${item}</li>`).join('')}
                </ul>
            </div>
        `;
    }
    
    if (project.coreCode && project.coreCode.length > 0) {
        html += `
            <div class="modal-section">
                <h3>ğŸ’» í•µì‹¬ ê¸°ìˆ  ì½”ë“œ</h3>
                <p style="color: var(--text-secondary); margin-bottom: 20px;">í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ëœ í•µì‹¬ ê¸°ìˆ ë“¤ê³¼ ì‚¬ìš© ì´ìœ ì…ë‹ˆë‹¤.</p>
        `;
        
        // ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê·¸ë£¹í™”
        const categories = {};
        project.coreCode.forEach(code => {
            if (!categories[code.category]) {
                categories[code.category] = [];
            }
            categories[code.category].push(code);
        });
        
        Object.entries(categories).forEach(([category, codes]) => {
            html += `
                <h4 style="font-size: 18px; font-weight: 600; margin: 24px 0 16px; color: var(--accent-color);">
                    ${category}
                </h4>
            `;
            
            codes.forEach(code => {
                html += `
                    <div style="margin-bottom: 24px;">
                        <h5 style="font-size: 16px; font-weight: 600; margin-bottom: 8px; color: var(--text-primary);">
                            ${code.title}
                        </h5>
                        <p style="color: var(--text-secondary); margin-bottom: 12px; font-size: 14px;">
                            ğŸ’¡ <strong>ì‚¬ìš© ì´ìœ :</strong> ${code.reason}
                        </p>
                        <div class="code-block">
                            <code>${escapeHtml(code.code)}</code>
                        </div>
                    </div>
                `;
            });
        });
        
        html += `</div>`;
    }
    
    if (project.learned && project.learned.length > 0) {
        html += `
            <div class="modal-section">
                <h3>ğŸ’¡ ë°°ìš´ ì </h3>
                <ul>
                    ${project.learned.map(item => `<li>${item}</li>`).join('')}
                </ul>
            </div>
        `;
    }
    
    if (project.github) {
        html += `
            <div class="modal-section" style="text-align: center;">
                <a href="${project.github}" target="_blank" class="btn btn-primary" style="display: inline-block;">
                    ğŸ”— GitHub ì €ì¥ì†Œ ë³´ê¸°
                </a>
            </div>
        `;
    }
    
    modalBody.innerHTML = html;
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
}

function closeProjectModal() {
    const modal = document.getElementById('projectModal');
    modal.classList.remove('show');
    document.body.style.overflow = 'auto';
}

function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

// Close modal on outside click
document.addEventListener('click', function(e) {
    const modal = document.getElementById('projectModal');
    if (e.target === modal) {
        closeProjectModal();
    }
});

// Close modal on ESC key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeProjectModal();
    }
});